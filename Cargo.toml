[package]
name = "teapy"
version = "0.1.4"
edition = "2021"

[lib]
name = "teapy"
crate-type = ["cdylib", "rlib"]

[features]
default = ["lazy", "eager_api", "blas"]
lazy = ["window_func"]
eager_api = ["window_func"]
window_func = []
blas = ["ndarray-linalg", "ndarray/blas", "lazy", "statrs", "lapack-sys"]

[profile.release]
lto = true

[dependencies]
pyo3 = {version = "0.18.0", features = ["extension-module", "abi3-py38", "macros"]}
# numpy = {git = "https://github.com/PyO3/rust-numpy.git", branch = "main"}
numpy = "0.18"
num = "0.4"
cxx = "1.0"
rayon = "1.5"
ahash = "0.8.2"
chrono = "0.4.23"
once_cell = "1"
ndarray = {features=['rayon'], version="0.15"}
ndarray-linalg = { version = "0.16.0", features = ["intel-mkl-static"], optional=true}
ndarray-npy = {version = "0.8.1"}
statrs = {version = "0.16", optional=true}
lapack-sys = {version="0.14.0", optional=true}