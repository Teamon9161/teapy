[package]
name = "teapy"
version = "0.1.7"
edition = "2021"

[lib]
name = "teapy"
crate-type = ["cdylib", "rlib"]

[features]
default = ["lazy", "blas"]
lazy = ["window_func"]
window_func = []
blas = ["ndarray-linalg", "ndarray/blas", "lazy", "statrs", "lapack-sys"]

[profile.release]
lto = true

[dependencies]
pyo3 = {version = "0.19.0", features = ["extension-module", "abi3-py38", "macros", "serde"]}
numpy = "0.19"
num = "0.4"
cxx = "1.0"
rayon = "1.5"
ahash = "0.8.2"
regex = "1"
chrono = {version = "0.4.23", features = ["serde"]}
serde = { version = "1.0", features = ["derive"] }
serde_with = {version = "3.0", features = ["chrono"]}
serde-pickle = "1.1"
bincode = "1.3"
once_cell = "1"
ndarray = {features=['rayon', 'serde'], version="0.15"}
ndarray-linalg = {git = "https://github.com/Teamon9161/ndarray-linalg.git", branch = "arm-cross-compile", features = ["intel-mkl-static"], optional=true}
ndarray-npy = {version = "0.8.1"}
statrs = {version = "0.16", optional=true}
lapack-sys = {version="0.14.0", optional=true}